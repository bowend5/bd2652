# [Model 3]
We are going to set up and try catboost
```{r}
# set x and y 
x <- train[,-23]
y <- train$satisfaction

# use caret for grid search 
fit_control <- caret::trainControl(
  method = "cv", 
  number = 3, 
  search = "random",
  classProbs = TRUE
)

# set grid options
grid <- expand.grid(
  depth = c(4, 6, 8),
  learning_rate = 0.1,
  l2_leaf_reg = 0.1,
  rsm = 0.95,
  border_count = 64,
  iterations = c(100,200,300)
)

# train catboost
model <- train(
  x = x, 
  y = as.factor(make.names(y)),
  method = catboost.caret,
  logging_level = 'Verbose',
  maximize = TRUE,
  preProc = NULL,
  tuneGrid = grid, 
  tuneLength = 30, 
  trControl = fit_control
)

```