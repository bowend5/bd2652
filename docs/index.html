<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>EDA</title>
  <meta name="description" content="EDA" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="EDA" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="EDA" />
  
  
  

<meta name="author" content="Bowen Dong" />


<meta name="date" content="2023-04-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="model-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SHORT TITLE HERE</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Proposal</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#the-data"><i class="fa fa-check"></i><b>1.1</b> The data:</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#modeling-goal"><i class="fa fa-check"></i><b>1.2</b> Modeling goal:</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#the-models-we-intend-to-use"><i class="fa fa-check"></i><b>1.3</b> The models we intend to use:</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="model-1.html"><a href="model-1.html"><i class="fa fa-check"></i><b>2</b> [Model 1]</a></li>
<li class="chapter" data-level="3" data-path="model-2.html"><a href="model-2.html"><i class="fa fa-check"></i><b>3</b> [Model 2]</a></li>
<li class="chapter" data-level="4" data-path="model-3.html"><a href="model-3.html"><i class="fa fa-check"></i><b>4</b> [Model 3]</a></li>
<li class="chapter" data-level="5" data-path="reflections.html"><a href="reflections.html"><i class="fa fa-check"></i><b>5</b> Reflections</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EDA</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">EDA</h1>
<p class="author"><em>Bowen Dong</em></p>
<p class="date"><em>2023-04-18</em></p>
</div>
<div id="proposal" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> Proposal<a href="index.html#proposal" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="the-data" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> The data:<a href="index.html#the-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Airline Passenger Satisfaction from kaggle
<a href="https://www.kaggle.com/datasets/teejmahal20/airline-passenger-satisfaction" class="uri">https://www.kaggle.com/datasets/teejmahal20/airline-passenger-satisfaction</a></p>
<p>Variables:
Gender: Gender of the passengers (Female, Male)</p>
<p>Customer Type: The customer type (Loyal customer, disloyal customer)</p>
<p>Age: The actual age of the passengers</p>
<p>Type of Travel: Purpose of the flight of the passengers (Personal Travel, Business Travel)</p>
<p>Class: Travel class in the plane of the passengers (Business, Eco, Eco Plus)</p>
<p>Flight distance: The flight distance of this journey</p>
<p>Inflight wifi service: Satisfaction level of the inflight wifi service (0:Not Applicable;1-5)</p>
<p>Departure/Arrival time convenient: Satisfaction level of Departure/Arrival time convenient</p>
<p>Ease of Online booking: Satisfaction level of online booking</p>
<p>Gate location: Satisfaction level of Gate location</p>
<p>Food and drink: Satisfaction level of Food and drink</p>
<p>Online boarding: Satisfaction level of online boarding</p>
<p>Seat comfort: Satisfaction level of Seat comfort</p>
<p>Inflight entertainment: Satisfaction level of inflight entertainment</p>
<p>On-board service: Satisfaction level of On-board service</p>
<p>Leg room service: Satisfaction level of Leg room service</p>
<p>Baggage handling: Satisfaction level of baggage handling</p>
<p>Check-in service: Satisfaction level of Check-in service</p>
<p>Inflight service: Satisfaction level of inflight service</p>
<p>Cleanliness: Satisfaction level of Cleanliness</p>
<p>Departure Delay in Minutes: Minutes delayed when departure</p>
<p>Arrival Delay in Minutes: Minutes delayed when Arrival</p>
<p>Satisfaction: Airline satisfaction level(Satisfaction, neutral or dissatisfaction)</p>
</div>
<div id="modeling-goal" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Modeling goal:<a href="index.html#modeling-goal" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This dataset contains an airline passenger satisfaction survey.We want to know what factors are highly correlated to a satisfied (or dissatisfied) passenger, and try to model and predict passenger satisfaction.</p>
</div>
<div id="the-models-we-intend-to-use" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> The models we intend to use:<a href="index.html#the-models-we-intend-to-use" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>random forest(white box), lightGBM(black box), KNN(black box), logistic regression(white box)</p>

<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="index.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data science</span></span>
<span id="cb1-2"><a href="index.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="index.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DataExplorer)</span>
<span id="cb1-4"><a href="index.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb1-5"><a href="index.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-6"><a href="index.html#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="index.html#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="index.html#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Modeling</span></span>
<span id="cb1-9"><a href="index.html#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb1-10"><a href="index.html#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb1-11"><a href="index.html#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="index.html#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization</span></span>
<span id="cb1-13"><a href="index.html#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb1-14"><a href="index.html#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GGally)</span>
<span id="cb1-15"><a href="index.html#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vip)</span>
<span id="cb1-16"><a href="index.html#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-17"><a href="index.html#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-18"><a href="index.html#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span>
<span id="cb1-19"><a href="index.html#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="index.html#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Tables</span></span>
<span id="cb1-21"><a href="index.html#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="index.html#cb2-1" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;train.csv&quot;</span>,<span class="at">stringsAsFactors =</span> F)</span>
<span id="cb2-2"><a href="index.html#cb2-2" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;test.csv&quot;</span>,<span class="at">stringsAsFactors =</span> F)</span>
<span id="cb2-3"><a href="index.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen=</span><span class="dv">999</span>) <span class="co"># erase &#39;e&#39; in number</span></span>
<span id="cb2-4"><a href="index.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">warn =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="index.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Train data</span></span>
<span id="cb3-2"><a href="index.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(train,<span class="at">title=</span><span class="st">&#39;NA value in Train dataset&#39;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="index.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Test data</span></span>
<span id="cb4-2"><a href="index.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_missing</span>(test,<span class="at">title=</span><span class="st">&#39;NA value in Test dataset&#39;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-5-2.png" width="672" /></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="index.html#cb5-1" aria-hidden="true" tabindex="-1"></a>miceresult <span class="ot">&lt;-</span> mice<span class="sc">::</span><span class="fu">mice</span>(train,<span class="at">seed=</span><span class="dv">123</span>,<span class="at">m=</span><span class="dv">5</span>)<span class="co">#the m is the number of divide</span></span></code></pre></div>
<pre><code>## 
##  iter imp variable
##   1   1  Arrival.Delay.in.Minutes
##   1   2  Arrival.Delay.in.Minutes
##   1   3  Arrival.Delay.in.Minutes
##   1   4  Arrival.Delay.in.Minutes
##   1   5  Arrival.Delay.in.Minutes
##   2   1  Arrival.Delay.in.Minutes
##   2   2  Arrival.Delay.in.Minutes
##   2   3  Arrival.Delay.in.Minutes
##   2   4  Arrival.Delay.in.Minutes
##   2   5  Arrival.Delay.in.Minutes
##   3   1  Arrival.Delay.in.Minutes
##   3   2  Arrival.Delay.in.Minutes
##   3   3  Arrival.Delay.in.Minutes
##   3   4  Arrival.Delay.in.Minutes
##   3   5  Arrival.Delay.in.Minutes
##   4   1  Arrival.Delay.in.Minutes
##   4   2  Arrival.Delay.in.Minutes
##   4   3  Arrival.Delay.in.Minutes
##   4   4  Arrival.Delay.in.Minutes
##   4   5  Arrival.Delay.in.Minutes
##   5   1  Arrival.Delay.in.Minutes
##   5   2  Arrival.Delay.in.Minutes
##   5   3  Arrival.Delay.in.Minutes
##   5   4  Arrival.Delay.in.Minutes
##   5   5  Arrival.Delay.in.Minutes</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="index.html#cb7-1" aria-hidden="true" tabindex="-1"></a>miceresult</span></code></pre></div>
<pre><code>## Class: mids
## Number of multiple imputations:  5 
## Imputation methods:
##                                 X                                id 
##                                &quot;&quot;                                &quot;&quot; 
##                            Gender                     Customer.Type 
##                                &quot;&quot;                                &quot;&quot; 
##                               Age                    Type.of.Travel 
##                                &quot;&quot;                                &quot;&quot; 
##                             Class                   Flight.Distance 
##                                &quot;&quot;                                &quot;&quot; 
##             Inflight.wifi.service Departure.Arrival.time.convenient 
##                                &quot;&quot;                                &quot;&quot; 
##            Ease.of.Online.booking                     Gate.location 
##                                &quot;&quot;                                &quot;&quot; 
##                    Food.and.drink                   Online.boarding 
##                                &quot;&quot;                                &quot;&quot; 
##                      Seat.comfort            Inflight.entertainment 
##                                &quot;&quot;                                &quot;&quot; 
##                  On.board.service                  Leg.room.service 
##                                &quot;&quot;                                &quot;&quot; 
##                  Baggage.handling                   Checkin.service 
##                                &quot;&quot;                                &quot;&quot; 
##                  Inflight.service                       Cleanliness 
##                                &quot;&quot;                                &quot;&quot; 
##        Departure.Delay.in.Minutes          Arrival.Delay.in.Minutes 
##                                &quot;&quot;                             &quot;pmm&quot; 
##                      satisfaction 
##                                &quot;&quot; 
## PredictorMatrix:
##                X id Gender Customer.Type Age Type.of.Travel Class
## X              0  1      0             0   1              0     0
## id             1  0      0             0   1              0     0
## Gender         1  1      0             0   1              0     0
## Customer.Type  1  1      0             0   1              0     0
## Age            1  1      0             0   0              0     0
## Type.of.Travel 1  1      0             0   1              0     0
##                Flight.Distance Inflight.wifi.service
## X                            1                     1
## id                           1                     1
## Gender                       1                     1
## Customer.Type                1                     1
## Age                          1                     1
## Type.of.Travel               1                     1
##                Departure.Arrival.time.convenient Ease.of.Online.booking
## X                                              1                      1
## id                                             1                      1
## Gender                                         1                      1
## Customer.Type                                  1                      1
## Age                                            1                      1
## Type.of.Travel                                 1                      1
##                Gate.location Food.and.drink Online.boarding Seat.comfort
## X                          1              1               1            1
## id                         1              1               1            1
## Gender                     1              1               1            1
## Customer.Type              1              1               1            1
## Age                        1              1               1            1
## Type.of.Travel             1              1               1            1
##                Inflight.entertainment On.board.service Leg.room.service
## X                                   1                1                1
## id                                  1                1                1
## Gender                              1                1                1
## Customer.Type                       1                1                1
## Age                                 1                1                1
## Type.of.Travel                      1                1                1
##                Baggage.handling Checkin.service Inflight.service Cleanliness
## X                             1               1                1           1
## id                            1               1                1           1
## Gender                        1               1                1           1
## Customer.Type                 1               1                1           1
## Age                           1               1                1           1
## Type.of.Travel                1               1                1           1
##                Departure.Delay.in.Minutes Arrival.Delay.in.Minutes satisfaction
## X                                       1                        1            0
## id                                      1                        1            0
## Gender                                  1                        1            0
## Customer.Type                           1                        1            0
## Age                                     1                        1            0
## Type.of.Travel                          1                        1            0
## Number of logged events:  5 
##   it im dep     meth            out
## 1  0  0     constant         Gender
## 2  0  0     constant  Customer.Type
## 3  0  0     constant Type.of.Travel
## 4  0  0     constant          Class
## 5  0  0     constant   satisfaction</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="index.html#cb9-1" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> mice<span class="sc">::</span><span class="fu">complete</span>(miceresult,<span class="dv">1</span>) <span class="co">#remove the missing values in the train set</span></span>
<span id="cb9-2"><a href="index.html#cb9-2" aria-hidden="true" tabindex="-1"></a>miceresult <span class="ot">&lt;-</span> mice<span class="sc">::</span><span class="fu">mice</span>(test,<span class="at">seed=</span><span class="dv">123</span>,<span class="at">m=</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## 
##  iter imp variable
##   1   1  Arrival.Delay.in.Minutes
##   1   2  Arrival.Delay.in.Minutes
##   1   3  Arrival.Delay.in.Minutes
##   1   4  Arrival.Delay.in.Minutes
##   1   5  Arrival.Delay.in.Minutes
##   2   1  Arrival.Delay.in.Minutes
##   2   2  Arrival.Delay.in.Minutes
##   2   3  Arrival.Delay.in.Minutes
##   2   4  Arrival.Delay.in.Minutes
##   2   5  Arrival.Delay.in.Minutes
##   3   1  Arrival.Delay.in.Minutes
##   3   2  Arrival.Delay.in.Minutes
##   3   3  Arrival.Delay.in.Minutes
##   3   4  Arrival.Delay.in.Minutes
##   3   5  Arrival.Delay.in.Minutes
##   4   1  Arrival.Delay.in.Minutes
##   4   2  Arrival.Delay.in.Minutes
##   4   3  Arrival.Delay.in.Minutes
##   4   4  Arrival.Delay.in.Minutes
##   4   5  Arrival.Delay.in.Minutes
##   5   1  Arrival.Delay.in.Minutes
##   5   2  Arrival.Delay.in.Minutes
##   5   3  Arrival.Delay.in.Minutes
##   5   4  Arrival.Delay.in.Minutes
##   5   5  Arrival.Delay.in.Minutes</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="index.html#cb11-1" aria-hidden="true" tabindex="-1"></a>miceresult</span></code></pre></div>
<pre><code>## Class: mids
## Number of multiple imputations:  5 
## Imputation methods:
##                                 X                                id 
##                                &quot;&quot;                                &quot;&quot; 
##                            Gender                     Customer.Type 
##                                &quot;&quot;                                &quot;&quot; 
##                               Age                    Type.of.Travel 
##                                &quot;&quot;                                &quot;&quot; 
##                             Class                   Flight.Distance 
##                                &quot;&quot;                                &quot;&quot; 
##             Inflight.wifi.service Departure.Arrival.time.convenient 
##                                &quot;&quot;                                &quot;&quot; 
##            Ease.of.Online.booking                     Gate.location 
##                                &quot;&quot;                                &quot;&quot; 
##                    Food.and.drink                   Online.boarding 
##                                &quot;&quot;                                &quot;&quot; 
##                      Seat.comfort            Inflight.entertainment 
##                                &quot;&quot;                                &quot;&quot; 
##                  On.board.service                  Leg.room.service 
##                                &quot;&quot;                                &quot;&quot; 
##                  Baggage.handling                   Checkin.service 
##                                &quot;&quot;                                &quot;&quot; 
##                  Inflight.service                       Cleanliness 
##                                &quot;&quot;                                &quot;&quot; 
##        Departure.Delay.in.Minutes          Arrival.Delay.in.Minutes 
##                                &quot;&quot;                             &quot;pmm&quot; 
##                      satisfaction 
##                                &quot;&quot; 
## PredictorMatrix:
##                X id Gender Customer.Type Age Type.of.Travel Class
## X              0  1      0             0   1              0     0
## id             1  0      0             0   1              0     0
## Gender         1  1      0             0   1              0     0
## Customer.Type  1  1      0             0   1              0     0
## Age            1  1      0             0   0              0     0
## Type.of.Travel 1  1      0             0   1              0     0
##                Flight.Distance Inflight.wifi.service
## X                            1                     1
## id                           1                     1
## Gender                       1                     1
## Customer.Type                1                     1
## Age                          1                     1
## Type.of.Travel               1                     1
##                Departure.Arrival.time.convenient Ease.of.Online.booking
## X                                              1                      1
## id                                             1                      1
## Gender                                         1                      1
## Customer.Type                                  1                      1
## Age                                            1                      1
## Type.of.Travel                                 1                      1
##                Gate.location Food.and.drink Online.boarding Seat.comfort
## X                          1              1               1            1
## id                         1              1               1            1
## Gender                     1              1               1            1
## Customer.Type              1              1               1            1
## Age                        1              1               1            1
## Type.of.Travel             1              1               1            1
##                Inflight.entertainment On.board.service Leg.room.service
## X                                   1                1                1
## id                                  1                1                1
## Gender                              1                1                1
## Customer.Type                       1                1                1
## Age                                 1                1                1
## Type.of.Travel                      1                1                1
##                Baggage.handling Checkin.service Inflight.service Cleanliness
## X                             1               1                1           1
## id                            1               1                1           1
## Gender                        1               1                1           1
## Customer.Type                 1               1                1           1
## Age                           1               1                1           1
## Type.of.Travel                1               1                1           1
##                Departure.Delay.in.Minutes Arrival.Delay.in.Minutes satisfaction
## X                                       1                        1            0
## id                                      1                        1            0
## Gender                                  1                        1            0
## Customer.Type                           1                        1            0
## Age                                     1                        1            0
## Type.of.Travel                          1                        1            0
## Number of logged events:  5 
##   it im dep     meth            out
## 1  0  0     constant         Gender
## 2  0  0     constant  Customer.Type
## 3  0  0     constant Type.of.Travel
## 4  0  0     constant          Class
## 5  0  0     constant   satisfaction</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="index.html#cb13-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> mice<span class="sc">::</span><span class="fu">complete</span>(miceresult,<span class="dv">1</span>)<span class="co">#remove the missing values in the test set</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="index.html#cb14-1" aria-hidden="true" tabindex="-1"></a>age1<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> train, <span class="fu">aes</span>( <span class="at">x =</span> Age)) <span class="sc">+</span> </span>
<span id="cb14-2"><a href="index.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">&quot;lightblue&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">alpha=</span><span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb14-3"><a href="index.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution of Age&quot;</span>, </span>
<span id="cb14-4"><a href="index.html#cb14-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Airline Passenger Satisfaction, Kaggle(2021.08)&quot;</span>)</span>
<span id="cb14-5"><a href="index.html#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="index.html#cb14-6" aria-hidden="true" tabindex="-1"></a>age2 <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span></span>
<span id="cb14-7"><a href="index.html#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">satisfaction =</span> <span class="fu">recode</span>(satisfaction, <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;neutral or dissatisfied&quot;</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;satisfied&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-8"><a href="index.html#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Age, <span class="at">fill =</span> satisfaction)) <span class="sc">+</span></span>
<span id="cb14-9"><a href="index.html#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb14-10"><a href="index.html#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb14-11"><a href="index.html#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb14-12"><a href="index.html#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>satisfaction)</span>
<span id="cb14-13"><a href="index.html#cb14-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-14"><a href="index.html#cb14-14" aria-hidden="true" tabindex="-1"></a>age1<span class="sc">/</span>age2</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="index.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#flight distance histogram</span></span>
<span id="cb15-2"><a href="index.html#cb15-2" aria-hidden="true" tabindex="-1"></a>flight1<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> train, <span class="fu">aes</span>( <span class="at">x =</span> Flight.Distance)) <span class="sc">+</span> </span>
<span id="cb15-3"><a href="index.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">&quot;lightblue&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">alpha=</span><span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb15-4"><a href="index.html#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution of Flight.Distance&quot;</span>, </span>
<span id="cb15-5"><a href="index.html#cb15-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Airline Passenger Satisfaction, Kaggle(2021.08)&quot;</span>)</span>
<span id="cb15-6"><a href="index.html#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="index.html#cb15-7" aria-hidden="true" tabindex="-1"></a>flight2 <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span></span>
<span id="cb15-8"><a href="index.html#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">satisfaction =</span> <span class="fu">recode</span>(satisfaction, <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;neutral or dissatisfied&quot;</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;satisfied&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb15-9"><a href="index.html#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Flight.Distance, <span class="at">fill =</span> satisfaction)) <span class="sc">+</span></span>
<span id="cb15-10"><a href="index.html#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb15-11"><a href="index.html#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb15-12"><a href="index.html#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb15-13"><a href="index.html#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>satisfaction)</span>
<span id="cb15-14"><a href="index.html#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="index.html#cb15-15" aria-hidden="true" tabindex="-1"></a>flight1<span class="sc">/</span>flight2</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-7-2.png" width="672" /></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="index.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Arrival.Delay.in.Minutes</span></span>
<span id="cb16-2"><a href="index.html#cb16-2" aria-hidden="true" tabindex="-1"></a>arrive1<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> train, <span class="fu">aes</span>( <span class="at">x =</span> Arrival.Delay.in.Minutes)) <span class="sc">+</span> </span>
<span id="cb16-3"><a href="index.html#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">&quot;lightblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb16-4"><a href="index.html#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">75</span>) <span class="sc">+</span></span>
<span id="cb16-5"><a href="index.html#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution of Arrival.Delay.in.Minutes&quot;</span>, </span>
<span id="cb16-6"><a href="index.html#cb16-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Airline Passenger Satisfaction, Kaggle(2021.08)&quot;</span>)</span>
<span id="cb16-7"><a href="index.html#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="index.html#cb16-8" aria-hidden="true" tabindex="-1"></a>arrive2 <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span></span>
<span id="cb16-9"><a href="index.html#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">satisfaction =</span> <span class="fu">recode</span>(satisfaction, <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;neutral or dissatisfied&quot;</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;satisfied&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-10"><a href="index.html#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Arrival.Delay.in.Minutes, <span class="at">fill =</span> satisfaction)) <span class="sc">+</span></span>
<span id="cb16-11"><a href="index.html#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb16-12"><a href="index.html#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">75</span>) <span class="sc">+</span></span>
<span id="cb16-13"><a href="index.html#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb16-14"><a href="index.html#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb16-15"><a href="index.html#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>satisfaction)</span>
<span id="cb16-16"><a href="index.html#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="index.html#cb16-17" aria-hidden="true" tabindex="-1"></a>arrive1<span class="sc">/</span>arrive2</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="index.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Departure.Delay.in.Minutes</span></span>
<span id="cb17-2"><a href="index.html#cb17-2" aria-hidden="true" tabindex="-1"></a>depart1<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> train, <span class="fu">aes</span>( <span class="at">x =</span> Departure.Delay.in.Minutes)) <span class="sc">+</span> </span>
<span id="cb17-3"><a href="index.html#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill=</span><span class="st">&quot;lightblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb17-4"><a href="index.html#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">75</span>) <span class="sc">+</span></span>
<span id="cb17-5"><a href="index.html#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Distribution of Departure.Delay.in.Minutes&quot;</span>, </span>
<span id="cb17-6"><a href="index.html#cb17-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Airline Passenger Satisfaction, Kaggle(2021.08)&quot;</span>)</span>
<span id="cb17-7"><a href="index.html#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="index.html#cb17-8" aria-hidden="true" tabindex="-1"></a>depart2 <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span></span>
<span id="cb17-9"><a href="index.html#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">satisfaction =</span> <span class="fu">recode</span>(satisfaction, <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;neutral or dissatisfied&quot;</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;satisfied&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-10"><a href="index.html#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Departure.Delay.in.Minutes, <span class="at">fill =</span> satisfaction)) <span class="sc">+</span></span>
<span id="cb17-11"><a href="index.html#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb17-12"><a href="index.html#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">75</span>) <span class="sc">+</span></span>
<span id="cb17-13"><a href="index.html#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb17-14"><a href="index.html#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb17-15"><a href="index.html#cb17-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>satisfaction)</span>
<span id="cb17-16"><a href="index.html#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="index.html#cb17-17" aria-hidden="true" tabindex="-1"></a>depart1<span class="sc">/</span>depart2</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="index.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Check the distribution of numerical features</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="index.html#cb19-1" aria-hidden="true" tabindex="-1"></a>train <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="index.html#cb19-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(,<span class="dv">9</span><span class="sc">:</span><span class="dv">16</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="index.html#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_histogram</span>(<span class="at">theme_config =</span> <span class="fu">theme_bw</span>(), </span>
<span id="cb19-4"><a href="index.html#cb19-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">geom_histogram_args =</span> <span class="fu">list</span>(<span class="at">fill =</span> <span class="st">&quot;salmon&quot;</span>),<span class="at">title =</span> <span class="st">&quot;Scored Variables distirbution in trianset(1)&quot;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="index.html#cb20-1" aria-hidden="true" tabindex="-1"></a>train <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="index.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(,<span class="dv">17</span><span class="sc">:</span><span class="dv">22</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="index.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_histogram</span>(<span class="at">theme_config =</span> <span class="fu">theme_bw</span>(), </span>
<span id="cb20-4"><a href="index.html#cb20-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">geom_histogram_args =</span> <span class="fu">list</span>(<span class="at">fill =</span> <span class="st">&quot;lightblue&quot;</span>),<span class="at">title =</span> <span class="st">&quot;Scored Variables distirbution in trianset(2)&quot;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="index.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Check distribution of the score variables. Those are more categorical than numerical</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="index.html#cb22-1" aria-hidden="true" tabindex="-1"></a>c5 <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span> </span>
<span id="cb22-2"><a href="index.html#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">satisfaction =</span> <span class="fu">recode</span>(satisfaction, <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;neutral or dissatisfied&quot;</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;satisfied&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="index.html#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(satisfaction) <span class="sc">%&gt;%</span> </span>
<span id="cb22-4"><a href="index.html#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> satisfaction, <span class="at">y =</span> n, <span class="at">fill =</span> satisfaction)) <span class="sc">+</span></span>
<span id="cb22-5"><a href="index.html#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb22-6"><a href="index.html#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n), <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>), <span class="at">vjust=</span><span class="sc">-</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb22-7"><a href="index.html#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">60000</span>) <span class="sc">+</span></span>
<span id="cb22-8"><a href="index.html#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb22-9"><a href="index.html#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()  <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Sactisfaction variable in Train Dataset&quot;</span>)</span>
<span id="cb22-10"><a href="index.html#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="index.html#cb22-11" aria-hidden="true" tabindex="-1"></a>c1 <span class="ot">&lt;-</span>train <span class="sc">%&gt;%</span> </span>
<span id="cb22-12"><a href="index.html#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Gender =</span> <span class="fu">recode</span>(Gender, <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Female&quot;</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Male&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-13"><a href="index.html#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Gender) <span class="sc">%&gt;%</span> </span>
<span id="cb22-14"><a href="index.html#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Gender, <span class="at">y =</span> n, <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb22-15"><a href="index.html#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb22-16"><a href="index.html#cb22-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n), <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>), <span class="at">vjust=</span><span class="sc">-</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb22-17"><a href="index.html#cb22-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">60000</span>) <span class="sc">+</span></span>
<span id="cb22-18"><a href="index.html#cb22-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb22-19"><a href="index.html#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()  <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Gender variable in Train Dataset&quot;</span>)</span>
<span id="cb22-20"><a href="index.html#cb22-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-21"><a href="index.html#cb22-21" aria-hidden="true" tabindex="-1"></a>c2 <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span> </span>
<span id="cb22-22"><a href="index.html#cb22-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Customer.Type =</span> <span class="fu">recode</span>(Customer.Type, <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;disloyal Customer&quot;</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Loyal Customer&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-23"><a href="index.html#cb22-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Customer.Type) <span class="sc">%&gt;%</span> </span>
<span id="cb22-24"><a href="index.html#cb22-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Customer.Type, <span class="at">y =</span> n, <span class="at">fill =</span> Customer.Type)) <span class="sc">+</span></span>
<span id="cb22-25"><a href="index.html#cb22-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb22-26"><a href="index.html#cb22-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n), <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>), <span class="at">vjust=</span><span class="sc">-</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb22-27"><a href="index.html#cb22-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">100000</span>) <span class="sc">+</span></span>
<span id="cb22-28"><a href="index.html#cb22-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb22-29"><a href="index.html#cb22-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Customer.Type variable in Train Dataset&quot;</span>)</span>
<span id="cb22-30"><a href="index.html#cb22-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-31"><a href="index.html#cb22-31" aria-hidden="true" tabindex="-1"></a>c3 <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span> </span>
<span id="cb22-32"><a href="index.html#cb22-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Type.of.Travel =</span> <span class="fu">recode</span>(Type.of.Travel, <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Business travel&quot;</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Personal Travel&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-33"><a href="index.html#cb22-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Type.of.Travel) <span class="sc">%&gt;%</span> </span>
<span id="cb22-34"><a href="index.html#cb22-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Type.of.Travel, <span class="at">y =</span> n, <span class="at">fill =</span> Type.of.Travel)) <span class="sc">+</span></span>
<span id="cb22-35"><a href="index.html#cb22-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb22-36"><a href="index.html#cb22-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n), <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>), <span class="at">vjust=</span><span class="sc">-</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb22-37"><a href="index.html#cb22-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">100000</span>) <span class="sc">+</span></span>
<span id="cb22-38"><a href="index.html#cb22-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb22-39"><a href="index.html#cb22-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()  <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Type.of.Travel variable in Train Dataset&quot;</span>)</span>
<span id="cb22-40"><a href="index.html#cb22-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-41"><a href="index.html#cb22-41" aria-hidden="true" tabindex="-1"></a>c4 <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span> </span>
<span id="cb22-42"><a href="index.html#cb22-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Class =</span> <span class="fu">recode</span>(Class, <span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Business&quot;</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Eco&quot;</span>,<span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Eco Plus&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-43"><a href="index.html#cb22-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Class) <span class="sc">%&gt;%</span> </span>
<span id="cb22-44"><a href="index.html#cb22-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Class, <span class="at">y =</span> n, <span class="at">fill =</span> Class)) <span class="sc">+</span></span>
<span id="cb22-45"><a href="index.html#cb22-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb22-46"><a href="index.html#cb22-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n), <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>), <span class="at">vjust=</span><span class="sc">-</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb22-47"><a href="index.html#cb22-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="dv">100000</span>) <span class="sc">+</span></span>
<span id="cb22-48"><a href="index.html#cb22-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb22-49"><a href="index.html#cb22-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">&quot;Class variable in Train Dataset&quot;</span>)</span>
<span id="cb22-50"><a href="index.html#cb22-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-51"><a href="index.html#cb22-51" aria-hidden="true" tabindex="-1"></a>c1<span class="sc">/</span>c2</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="index.html#cb23-1" aria-hidden="true" tabindex="-1"></a>c3<span class="sc">/</span>c4</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-10-2.png" width="672" /></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="index.html#cb24-1" aria-hidden="true" tabindex="-1"></a>c5</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-10-3.png" width="672" /></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="index.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Here we display histogram to demonstrate distribution of character variables. We find that the genders of customers are quite balanced. Majority of the travels are business travels. There are more neutral or dissatisfied reviews than satisfied, but not by a large margin. </span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="index.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Correlation matrix</span></span>
<span id="cb26-2"><a href="index.html#cb26-2" aria-hidden="true" tabindex="-1"></a>df_cor2 <span class="ot">&lt;-</span> <span class="fu">cor</span>(<span class="fu">select_if</span>(<span class="fu">subset</span>(train, <span class="at">select=</span><span class="sc">-</span><span class="fu">c</span>(id, Age, Flight.Distance,Departure.Delay.in.Minutes,Arrival.Delay.in.Minutes)), is.numeric))</span>
<span id="cb26-3"><a href="index.html#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df_cor2)</span></code></pre></div>
<pre><code>##        X              Inflight.wifi.service Departure.Arrival.time.convenient
##  Min.   :-0.0043215   Min.   :-0.00249      Min.   :-0.004861                
##  1st Qu.:-0.0008216   1st Qu.: 0.12121      1st Qu.: 0.011893                
##  Median : 0.0007393   Median : 0.13472      Median : 0.070119                
##  Mean   : 0.0669499   Mean   : 0.26709      Mean   : 0.176147                
##  3rd Qu.: 0.0016382   3rd Qu.: 0.34005      3rd Qu.: 0.218589                
##  Max.   : 1.0000000   Max.   : 1.00000      Max.   : 1.000000                
##  Ease.of.Online.booking Gate.location       Food.and.drink     
##  Min.   :0.001913       Min.   :-0.035428   Min.   :-0.002162  
##  1st Qu.:0.030944       1st Qu.:-0.002494   1st Qu.: 0.032185  
##  Median :0.038833       Median : 0.002313   Median : 0.059073  
##  Mean   :0.224940       Mean   : 0.145529   Mean   : 0.233672  
##  3rd Qu.:0.420518       3rd Qu.: 0.170661   3rd Qu.: 0.404512  
##  Max.   :1.000000       Max.   : 1.000000   Max.   : 1.000000  
##  Online.boarding     Seat.comfort       Inflight.entertainment
##  Min.   :0.001002   Min.   :0.0000435   Min.   :-0.004861     
##  1st Qu.:0.078926   1st Qu.:0.0496160   1st Qu.: 0.083950     
##  Median :0.204462   Median :0.1226578   Median : 0.299691     
##  Mean   :0.256455   Mean   :0.2683176   Mean   : 0.339342     
##  3rd Qu.:0.367796   3rd Qu.:0.4973836   3rd Qu.: 0.515371     
##  Max.   :1.000000   Max.   :1.0000000   Max.   : 1.000000     
##  On.board.service   Leg.room.service    Baggage.handling     Checkin.service   
##  Min.   :-0.02837   Min.   :-0.005873   Min.   :-0.0005263   Min.   :-0.03543  
##  1st Qu.: 0.06398   1st Qu.: 0.064434   1st Qu.: 0.0554440   1st Qu.: 0.06525  
##  Median : 0.13197   Median : 0.123950   Median : 0.0957927   Median : 0.15314  
##  Mean   : 0.25072   Mean   : 0.212240   Mean   : 0.2433687   Mean   : 0.18395  
##  3rd Qu.: 0.38782   3rd Qu.: 0.327593   3rd Qu.: 0.3738770   3rd Qu.: 0.21879  
##  Max.   : 1.00000   Max.   : 1.000000   Max.   : 1.0000000   Max.   : 1.00000  
##  Inflight.service      Cleanliness      
##  Min.   :-0.0001341   Min.   :-0.00383  
##  1st Qu.: 0.0522451   1st Qu.: 0.05248  
##  Median : 0.0887792   Median : 0.12322  
##  Mean   : 0.2451461   Mean   : 0.27344  
##  3rd Qu.: 0.3867554   3rd Qu.: 0.49464  
##  Max.   : 1.0000000   Max.   : 1.00000</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="index.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repr.plot.width =</span> <span class="dv">14</span>, <span class="at">repr.plot.height =</span> <span class="dv">8</span>)</span>
<span id="cb28-2"><a href="index.html#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(df_cor2, <span class="at">na.label=</span><span class="st">&quot; &quot;</span>, <span class="at">tl.cex=</span><span class="dv">1</span>, <span class="at">tl.col=</span><span class="st">&quot;black&quot;</span>, <span class="at">method=</span><span class="st">&quot;color&quot;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="model-1.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/bowend5/bd2652/edit/main/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/bowend5/bd2652/blob/main/index.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
