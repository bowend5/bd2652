<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Cat Boost | Final project: Airline Passenger Satisfaction Classification</title>
  <meta name="description" content="Chapter 4 Cat Boost | Final project: Airline Passenger Satisfaction Classification" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Cat Boost | Final project: Airline Passenger Satisfaction Classification" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Cat Boost | Final project: Airline Passenger Satisfaction Classification" />
  
  
  

<meta name="author" content="Bowen Dong" />


<meta name="date" content="2023-05-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="random-forest.html"/>
<link rel="next" href="reflections.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SHORT TITLE HERE</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Proposal</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#the-data"><i class="fa fa-check"></i><b>1.1</b> The data:</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#modeling-goal"><i class="fa fa-check"></i><b>1.2</b> Modeling goal:</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#the-models-we-intend-to-use"><i class="fa fa-check"></i><b>1.3</b> The models we intend to use:</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>2</b> Logistic Regression</a></li>
<li class="chapter" data-level="3" data-path="random-forest.html"><a href="random-forest.html"><i class="fa fa-check"></i><b>3</b> Random Forest</a></li>
<li class="chapter" data-level="4" data-path="cat-boost.html"><a href="cat-boost.html"><i class="fa fa-check"></i><b>4</b> Cat Boost</a></li>
<li class="chapter" data-level="5" data-path="reflections.html"><a href="reflections.html"><i class="fa fa-check"></i><b>5</b> Reflections</a></li>
<li class="chapter" data-level="6" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>6</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Final project: Airline Passenger Satisfaction Classification</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cat-boost" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Cat Boost<a href="cat-boost.html#cat-boost" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Lastly, we are going to set up and try catboost</p>
<p><img src="STAT-5293-Final-Project_files/figure-html/unnamed-chunk-34-1.png" width="672" /><img src="STAT-5293-Final-Project_files/figure-html/unnamed-chunk-34-2.png" width="672" /></p>
<pre><code>## 
##  iter imp variable
##   1   1  Arrival.Delay.in.Minutes
##   1   2  Arrival.Delay.in.Minutes
##   1   3  Arrival.Delay.in.Minutes
##   1   4  Arrival.Delay.in.Minutes
##   1   5  Arrival.Delay.in.Minutes
##   2   1  Arrival.Delay.in.Minutes
##   2   2  Arrival.Delay.in.Minutes
##   2   3  Arrival.Delay.in.Minutes
##   2   4  Arrival.Delay.in.Minutes
##   2   5  Arrival.Delay.in.Minutes
##   3   1  Arrival.Delay.in.Minutes
##   3   2  Arrival.Delay.in.Minutes
##   3   3  Arrival.Delay.in.Minutes
##   3   4  Arrival.Delay.in.Minutes
##   3   5  Arrival.Delay.in.Minutes
##   4   1  Arrival.Delay.in.Minutes
##   4   2  Arrival.Delay.in.Minutes
##   4   3  Arrival.Delay.in.Minutes
##   4   4  Arrival.Delay.in.Minutes
##   4   5  Arrival.Delay.in.Minutes
##   5   1  Arrival.Delay.in.Minutes
##   5   2  Arrival.Delay.in.Minutes
##   5   3  Arrival.Delay.in.Minutes
##   5   4  Arrival.Delay.in.Minutes
##   5   5  Arrival.Delay.in.Minutes</code></pre>
<pre><code>## Class: mids
## Number of multiple imputations:  5 
## Imputation methods:
##                                 X                                id 
##                                &quot;&quot;                                &quot;&quot; 
##                            Gender                     Customer.Type 
##                                &quot;&quot;                                &quot;&quot; 
##                               Age                    Type.of.Travel 
##                                &quot;&quot;                                &quot;&quot; 
##                             Class                   Flight.Distance 
##                                &quot;&quot;                                &quot;&quot; 
##             Inflight.wifi.service Departure.Arrival.time.convenient 
##                                &quot;&quot;                                &quot;&quot; 
##            Ease.of.Online.booking                     Gate.location 
##                                &quot;&quot;                                &quot;&quot; 
##                    Food.and.drink                   Online.boarding 
##                                &quot;&quot;                                &quot;&quot; 
##                      Seat.comfort            Inflight.entertainment 
##                                &quot;&quot;                                &quot;&quot; 
##                  On.board.service                  Leg.room.service 
##                                &quot;&quot;                                &quot;&quot; 
##                  Baggage.handling                   Checkin.service 
##                                &quot;&quot;                                &quot;&quot; 
##                  Inflight.service                       Cleanliness 
##                                &quot;&quot;                                &quot;&quot; 
##        Departure.Delay.in.Minutes          Arrival.Delay.in.Minutes 
##                                &quot;&quot;                             &quot;pmm&quot; 
##                      satisfaction 
##                                &quot;&quot; 
## PredictorMatrix:
##                X id Gender Customer.Type Age Type.of.Travel Class
## X              0  1      0             0   1              0     0
## id             1  0      0             0   1              0     0
## Gender         1  1      0             0   1              0     0
## Customer.Type  1  1      0             0   1              0     0
## Age            1  1      0             0   0              0     0
## Type.of.Travel 1  1      0             0   1              0     0
##                Flight.Distance Inflight.wifi.service
## X                            1                     1
## id                           1                     1
## Gender                       1                     1
## Customer.Type                1                     1
## Age                          1                     1
## Type.of.Travel               1                     1
##                Departure.Arrival.time.convenient Ease.of.Online.booking
## X                                              1                      1
## id                                             1                      1
## Gender                                         1                      1
## Customer.Type                                  1                      1
## Age                                            1                      1
## Type.of.Travel                                 1                      1
##                Gate.location Food.and.drink Online.boarding Seat.comfort
## X                          1              1               1            1
## id                         1              1               1            1
## Gender                     1              1               1            1
## Customer.Type              1              1               1            1
## Age                        1              1               1            1
## Type.of.Travel             1              1               1            1
##                Inflight.entertainment On.board.service Leg.room.service
## X                                   1                1                1
## id                                  1                1                1
## Gender                              1                1                1
## Customer.Type                       1                1                1
## Age                                 1                1                1
## Type.of.Travel                      1                1                1
##                Baggage.handling Checkin.service Inflight.service Cleanliness
## X                             1               1                1           1
## id                            1               1                1           1
## Gender                        1               1                1           1
## Customer.Type                 1               1                1           1
## Age                           1               1                1           1
## Type.of.Travel                1               1                1           1
##                Departure.Delay.in.Minutes Arrival.Delay.in.Minutes satisfaction
## X                                       1                        1            0
## id                                      1                        1            0
## Gender                                  1                        1            0
## Customer.Type                           1                        1            0
## Age                                     1                        1            0
## Type.of.Travel                          1                        1            0
## Number of logged events:  5 
##   it im dep     meth            out
## 1  0  0     constant         Gender
## 2  0  0     constant  Customer.Type
## 3  0  0     constant Type.of.Travel
## 4  0  0     constant          Class
## 5  0  0     constant   satisfaction</code></pre>
<pre><code>## 
##  iter imp variable
##   1   1  Arrival.Delay.in.Minutes
##   1   2  Arrival.Delay.in.Minutes
##   1   3  Arrival.Delay.in.Minutes
##   1   4  Arrival.Delay.in.Minutes
##   1   5  Arrival.Delay.in.Minutes
##   2   1  Arrival.Delay.in.Minutes
##   2   2  Arrival.Delay.in.Minutes
##   2   3  Arrival.Delay.in.Minutes
##   2   4  Arrival.Delay.in.Minutes
##   2   5  Arrival.Delay.in.Minutes
##   3   1  Arrival.Delay.in.Minutes
##   3   2  Arrival.Delay.in.Minutes
##   3   3  Arrival.Delay.in.Minutes
##   3   4  Arrival.Delay.in.Minutes
##   3   5  Arrival.Delay.in.Minutes
##   4   1  Arrival.Delay.in.Minutes
##   4   2  Arrival.Delay.in.Minutes
##   4   3  Arrival.Delay.in.Minutes
##   4   4  Arrival.Delay.in.Minutes
##   4   5  Arrival.Delay.in.Minutes
##   5   1  Arrival.Delay.in.Minutes
##   5   2  Arrival.Delay.in.Minutes
##   5   3  Arrival.Delay.in.Minutes
##   5   4  Arrival.Delay.in.Minutes
##   5   5  Arrival.Delay.in.Minutes</code></pre>
<pre><code>## Class: mids
## Number of multiple imputations:  5 
## Imputation methods:
##                                 X                                id 
##                                &quot;&quot;                                &quot;&quot; 
##                            Gender                     Customer.Type 
##                                &quot;&quot;                                &quot;&quot; 
##                               Age                    Type.of.Travel 
##                                &quot;&quot;                                &quot;&quot; 
##                             Class                   Flight.Distance 
##                                &quot;&quot;                                &quot;&quot; 
##             Inflight.wifi.service Departure.Arrival.time.convenient 
##                                &quot;&quot;                                &quot;&quot; 
##            Ease.of.Online.booking                     Gate.location 
##                                &quot;&quot;                                &quot;&quot; 
##                    Food.and.drink                   Online.boarding 
##                                &quot;&quot;                                &quot;&quot; 
##                      Seat.comfort            Inflight.entertainment 
##                                &quot;&quot;                                &quot;&quot; 
##                  On.board.service                  Leg.room.service 
##                                &quot;&quot;                                &quot;&quot; 
##                  Baggage.handling                   Checkin.service 
##                                &quot;&quot;                                &quot;&quot; 
##                  Inflight.service                       Cleanliness 
##                                &quot;&quot;                                &quot;&quot; 
##        Departure.Delay.in.Minutes          Arrival.Delay.in.Minutes 
##                                &quot;&quot;                             &quot;pmm&quot; 
##                      satisfaction 
##                                &quot;&quot; 
## PredictorMatrix:
##                X id Gender Customer.Type Age Type.of.Travel Class
## X              0  1      0             0   1              0     0
## id             1  0      0             0   1              0     0
## Gender         1  1      0             0   1              0     0
## Customer.Type  1  1      0             0   1              0     0
## Age            1  1      0             0   0              0     0
## Type.of.Travel 1  1      0             0   1              0     0
##                Flight.Distance Inflight.wifi.service
## X                            1                     1
## id                           1                     1
## Gender                       1                     1
## Customer.Type                1                     1
## Age                          1                     1
## Type.of.Travel               1                     1
##                Departure.Arrival.time.convenient Ease.of.Online.booking
## X                                              1                      1
## id                                             1                      1
## Gender                                         1                      1
## Customer.Type                                  1                      1
## Age                                            1                      1
## Type.of.Travel                                 1                      1
##                Gate.location Food.and.drink Online.boarding Seat.comfort
## X                          1              1               1            1
## id                         1              1               1            1
## Gender                     1              1               1            1
## Customer.Type              1              1               1            1
## Age                        1              1               1            1
## Type.of.Travel             1              1               1            1
##                Inflight.entertainment On.board.service Leg.room.service
## X                                   1                1                1
## id                                  1                1                1
## Gender                              1                1                1
## Customer.Type                       1                1                1
## Age                                 1                1                1
## Type.of.Travel                      1                1                1
##                Baggage.handling Checkin.service Inflight.service Cleanliness
## X                             1               1                1           1
## id                            1               1                1           1
## Gender                        1               1                1           1
## Customer.Type                 1               1                1           1
## Age                           1               1                1           1
## Type.of.Travel                1               1                1           1
##                Departure.Delay.in.Minutes Arrival.Delay.in.Minutes satisfaction
## X                                       1                        1            0
## id                                      1                        1            0
## Gender                                  1                        1            0
## Customer.Type                           1                        1            0
## Age                                     1                        1            0
## Type.of.Travel                          1                        1            0
## Number of logged events:  5 
##   it im dep     meth            out
## 1  0  0     constant         Gender
## 2  0  0     constant  Customer.Type
## 3  0  0     constant Type.of.Travel
## 4  0  0     constant          Class
## 5  0  0     constant   satisfaction</code></pre>
<p>Details of the catboost model</p>
<pre><code>## Catboost 
## 
## 103904 samples
##     22 predictor
##      2 classes: &#39;neutral.or.dissatisfied&#39;, &#39;satisfied&#39; 
## 
## No pre-processing
## Resampling: Cross-Validated (3 fold) 
## Summary of sample sizes: 69270, 69270, 69268 
## Resampling results across tuning parameters:
## 
##   depth  iterations  Accuracy   Kappa    
##   4      100         0.9517343  0.9013730
##   4      200         0.9591161  0.9164248
##   4      300         0.9610121  0.9202933
##   6      100         0.9607523  0.9197698
##   6      200         0.9636492  0.9256961
##   6      300         0.9638320  0.9260832
##   8      100         0.9637262  0.9258584
##   8      200         0.9642266  0.9268986
##   8      300         0.9639186  0.9262829
## 
## Tuning parameter &#39;learning_rate&#39; was held constant at a value of 0.1
## 
## Tuning parameter &#39;rsm&#39; was held constant at a value of 0.95
## Tuning
##  parameter &#39;border_count&#39; was held constant at a value of 64
## Accuracy was used to select the optimal model using the largest value.
## The final values used for the model were depth = 8, learning_rate =
##  0.1, iterations = 200, l2_leaf_reg = 0.1, rsm = 0.95 and border_count = 64.</code></pre>
<p>Results of catboost model</p>
<pre><code>## Confusion Matrix and Statistics
## 
##                          Reference
## Prediction                neutral or dissatisfied satisfied
##   neutral or dissatisfied                   14263       625
##   satisfied                                   310     10778
##                                                
##                Accuracy : 0.964                
##                  95% CI : (0.9617, 0.9662)     
##     No Information Rate : 0.561                
##     P-Value [Acc &gt; NIR] : &lt; 0.00000000000000022
##                                                
##                   Kappa : 0.9267               
##                                                
##  Mcnemar&#39;s Test P-Value : &lt; 0.00000000000000022
##                                                
##             Sensitivity : 0.9452               
##             Specificity : 0.9787               
##          Pos Pred Value : 0.9720               
##          Neg Pred Value : 0.9580               
##              Prevalence : 0.4390               
##          Detection Rate : 0.4149               
##    Detection Prevalence : 0.4269               
##       Balanced Accuracy : 0.9620               
##                                                
##        &#39;Positive&#39; Class : satisfied            
## </code></pre>
<p>From the variable importance plot, wifi service has really high importance, and then type of travel and online-boarding.
<img src="STAT-5293-Final-Project_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="random-forest.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reflections.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/bowend5/bd2652/edit/main/Cat-Boost.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/bowend5/bd2652/blob/main/Cat-Boost.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
